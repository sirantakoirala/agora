{"ast":null,"code":"var _jsxFileName = \"E:\\\\Uni\\\\Project\\\\qna_forum\\\\Agora v1.0.2\\\\src\\\\components\\\\History\\\\History.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { Icon, Label, Menu, Table } from 'semantic-ui-react';\nimport { Link } from \"react-router-dom\";\nimport { useUserContext } from \"../../context/userContext\";\nimport { db, storage } from \"../../firebase-config\";\nimport { query, where, collection, addDoc, doc, setDoc, serverTimestamp, arrayRemove, updateDoc, arrayUnion, getDoc, getDocs } from \"firebase/firestore\";\nimport { Sidebar } from \"../Dashboard/Sidebar\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const History = () => {\n  _s();\n\n  const [historys, setHistory] = useState(); //histories\n\n  const {\n    currentUser\n  } = useUserContext();\n  useEffect(() => {\n    async function getHistory() {\n      console.log(currentUser.uid);\n\n      try {\n        const q = query(collection(db, \"users\"), where(\"uid\", \"==\", currentUser.uid));\n        const querySnapshot = await getDocs(q);\n        const [historys] = querySnapshot.docs.map(post => post.data());\n        setHistory(historys.history);\n      } catch (err) {\n        console.log(err);\n      }\n    }\n\n    return getHistory();\n  }, []);\n\n  const splithistory = history => {\n    const data = history.split(\"^\");\n    return /*#__PURE__*/_jsxDEV(Table.Row, {\n      children: [/*#__PURE__*/_jsxDEV(Table.Cell, {\n        children: data[0]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Table.Cell, {\n        children: data[1]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Table.Cell, {\n        children: data[2]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Table.Cell, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          dangerouslySetInnerHTML: {\n            __html: data[3]\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 26\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }, this) // <div>\n    //     {history}\n    // </div>\n    ;\n  };\n\n  return (\n    /*#__PURE__*/\n    //dangerouslySetInnerHTML={{__html: data[3]}}\n    _jsxDEV(Sidebar, {\n      children: /*#__PURE__*/_jsxDEV(Table, {\n        color: \"GhostWhite\",\n        children: [/*#__PURE__*/_jsxDEV(Table.Header, {\n          children: /*#__PURE__*/_jsxDEV(Table.Row, {\n            children: [/*#__PURE__*/_jsxDEV(Table.HeaderCell, {\n              children: \"Action\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Table.HeaderCell, {\n              children: \"Type\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Table.HeaderCell, {\n              children: \"Time\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Table.HeaderCell, {\n              children: \"Description\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Table.Body, {\n          children: historys != undefined && historys.length != 0 && historys.map(history => splithistory(history))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 17\n        }, this)]\n      }, \"GhostWhite\", true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }, this)\n  );\n};\n\n_s(History, \"nh3T6Lhc5As+lC5OivfYjYx7G30=\", false, function () {\n  return [useUserContext];\n});\n\n_c = History;\n\nvar _c;\n\n$RefreshReg$(_c, \"History\");","map":{"version":3,"sources":["E:/Uni/Project/qna_forum/Agora v1.0.2/src/components/History/History.js"],"names":["React","useState","useEffect","Icon","Label","Menu","Table","Link","useUserContext","db","storage","query","where","collection","addDoc","doc","setDoc","serverTimestamp","arrayRemove","updateDoc","arrayUnion","getDoc","getDocs","Sidebar","History","historys","setHistory","currentUser","getHistory","console","log","uid","q","querySnapshot","docs","map","post","data","history","err","splithistory","split","__html","undefined","length"],"mappings":"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","sourcesContent":["import React, { useState ,useEffect} from \"react\";\r\nimport { Icon, Label, Menu, Table } from 'semantic-ui-react'\r\nimport { Link } from \"react-router-dom\";\r\nimport { useUserContext } from \"../../context/userContext\";\r\nimport { db,storage} from \"../../firebase-config\";\r\nimport { query,where,collection, addDoc ,doc,setDoc,serverTimestamp, arrayRemove, updateDoc,arrayUnion, getDoc, getDocs} from \"firebase/firestore\";\r\nimport { Sidebar } from \"../Dashboard/Sidebar\";\r\nexport const History = () =>\r\n{\r\n    const [historys, setHistory] = useState();//histories\r\n    const { currentUser } = useUserContext();\r\n    useEffect(() => {\r\n        async function getHistory() {\r\n            console.log(currentUser.uid);\r\n          try {\r\n              \r\n                const q = query(\r\n                    collection(db, \"users\"),\r\n                    where(\"uid\", \"==\", currentUser.uid)\r\n                );\r\n                const querySnapshot = await getDocs(q);\r\n                const [historys] = querySnapshot.docs.map((post) => post.data());\r\n\r\n                setHistory(historys.history);\r\n          } catch (err) {\r\n            console.log(err);\r\n          }\r\n        }\r\n        return getHistory();\r\n      }, []);\r\n    const splithistory = (history) => {\r\n        const data = history.split(\"^\");\r\n\r\n        return(\r\n            \r\n            <Table.Row>\r\n            <Table.Cell>{data[0]}</Table.Cell>\r\n            <Table.Cell>{data[1]}</Table.Cell>\r\n            <Table.Cell>{data[2]}</Table.Cell>\r\n            <Table.Cell ><div dangerouslySetInnerHTML={{__html: data[3]}}></div></Table.Cell>\r\n            \r\n            </Table.Row>\r\n            // <div>\r\n            //     {history}\r\n            // </div>\r\n        )\r\n    }\r\n    return(\r\n        //dangerouslySetInnerHTML={{__html: data[3]}}\r\n        <Sidebar>\r\n            <Table color=\"GhostWhite\" key=\"GhostWhite\">\r\n                <Table.Header >\r\n                    <Table.Row>\r\n                        <Table.HeaderCell>Action</Table.HeaderCell>\r\n                        <Table.HeaderCell>Type</Table.HeaderCell>\r\n                        <Table.HeaderCell>Time</Table.HeaderCell>\r\n                        <Table.HeaderCell>Description</Table.HeaderCell> \r\n                    </Table.Row>\r\n                </Table.Header>\r\n                <Table.Body>\r\n                   {historys!=undefined && historys.length!=0 && historys.map((history) =>(\r\n                   splithistory(history)\r\n                    ))}\r\n\r\n                </Table.Body>\r\n            </Table>\r\n        </Sidebar>\r\n    )   \r\n}"]},"metadata":{},"sourceType":"module"}